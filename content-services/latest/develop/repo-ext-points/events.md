---
title: Events Extension Point
---

When implementing business logic an out-of-process model should be used. For example, if some processing should be done
every time a PDF is uploaded to a specific folder, then there is an event that can be subscribed to and the business logic 
can be implemented in an external process separate from the Content Services server process.

Architecture Information: [Platform Architecture]({% link content-services/latest/develop/software-architecture.md %}#platformarch)

## Content Services Event Model

The event model in Content Services is a library packaged as a JAR file, which is part of the Content Services repository 
(i.e. `alfresco.war`). The library contains the events model and databind helpers to help the clients to marshall and 
unmarshall the events.

The event model is based on the [CloudEvents specification](https://github.com/cloudevents/spec/blob/v1.0/spec.md){:target="_blank"}.
CloudEvents is a specification for describing event data in common formats to provide interoperability across services, 
platforms and systems. For more information see [CloudEvents Primer](https://github.com/cloudevents/spec/blob/v1.0/primer.md){:target="_blank"}.

### Event Object

| Property             | Type          | Description                                                      |
|----------------------|---------------|------------------------------------------------------------------|
|`type`                |String         |The Alfresco event type. ([1.0 spec#type](https://github.com/cloudevents/spec/blob/v1.0/spec.md#type){:target="_blank"})|
|`specversion`         |String         |The CloudEvents specification version. Value should be '1.0'. ([1.0 spec#specversion](https://github.com/cloudevents/spec/blob/v1.0/spec.md#specversion){:target="_blank"})|
|`id`                  |String         |Event ID, a UUID generated by the producer ([1.0 spec#id](https://github.com/cloudevents/spec/blob/v1.0/spec.md#id){:target="_blank"})|
|`source`              |URI-reference  |The instance of a repository that produced the event, .i.e. repository cluster node identifier ([1.0 spec#source](https://github.com/cloudevents/spec/blob/v1.0/spec.md#source){:target="_blank"})|
|`time`                |Timestamp      |The producer's timestamp of when the event occurred. ([1.0 spec#time](https://github.com/cloudevents/spec/blob/v1.0/spec.md#time){:target="_blank"})|
|`dataschema`          |URI-reference  |Identifies the schema that data adheres to |
|`datacontenttype`     |String         |The content type of the data attribute. Value should be 'application/json'. ([1.0 spec#datacontenttype](https://github.com/cloudevents/spec/blob/v1.0/spec.md#datacontenttype){:target="_blank"})|
|`data`                |JSON           |The domain-specific data of the event. ([1.0 spec#data](https://github.com/cloudevents/spec/blob/v1.0/spec.md#data-attribute){:target="_blank"})|
|`data.eventGroupId`   |String         |Optional unique identifier for events group, i.e. a transaction ID         |
|`data.resource`       |Object (varies)|The object representing the resource affected|
|`data.resourceBefore` |Object (varies)|The object representing the old values of the changed resource's attributes. Note, this object is only available on the `Updated` event type|

### Resource Object

| Property                        | Type          | Description                                                      |
|---------------------------------|---------------|------------------------------------------------------------------|
|`data.resource.id`               |String         |The unique ID of the resource, i.e. a node ID|
|`data.resource.primaryHierarchy` |Array          |Optional primary hierarchy of ancestors of the resource affected, i.e. folder path for content. Note that the first element is the immediate parent|

The rest of resource object attributes are self explanatory. See [JSON Schema](#json-schema) for the detailed view of the attributes' types.

### Event Types

| Name                              | Description                                                      |
|-----------------------------------|------------------------------------------------------------------|
| `org.alfresco.event.node.Created` | Occurs when a node is created |
| `org.alfresco.event.node.Updated` | Occurs when a node is updated or moved. Currently only node's name, type, properties, aspects, and content are supported|
| `org.alfresco.event.node.Deleted` | Occurs when a node is deleted |
| `org.alfresco.event.assoc.child.Created` | Occurs when a secondary child association is created |
| `org.alfresco.event.assoc.child.Deleted` | Occurs when a secondary child association is deleted |
| `org.alfresco.event.assoc.peer.Created` | Occurs when a peer association is created |
| `org.alfresco.event.assoc.peer.Deleted` | Occurs when a peer association is deleted |

### JSON Schema {#json-schema}

For a detailed view of the event content refer to [Repo Event JSON schema](https://github.com/Alfresco/acs-event-model/tree/master/src/main/resources/json-schema){:target="_blank"}.

